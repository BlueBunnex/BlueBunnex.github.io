<!DOCTYPE html>
<html lang="en">
    <head>
        <title>kitsumitsu.de</title>
        <link rel="icon" type="image/x-icon" href="img/favicon.ico"/>
        <script src="https://kit.fontawesome.com/30792084b2.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style.css">
        <script src="script.js"></script>
        <meta charset="UTF-8">
        <style>
            
            #character-table td {
                text-align: left;
            }
            
            #search {
                position: absolute;
                left: 16px;
                top: 16px;
                width: 188px;
                background: var(--sixty);
                border-radius: 4px;
                padding: 4px;
                padding-top: 12px;
                text-align: left;
            }
            
            #search hr {
                background-color: var(--thirty);
                border: none;
                height: 3px;
                margin: 16px 0;
            }

            #search button {
                font-weight: 600;
                text-align: left;
                background: none;
                border: none;
                width: 100%;
                border-radius: 3px;
                font-size: 15px;
                transition: background 0.3s;
            }
            
            #search button:hover {
                background: rgb(0, 0, 0, 0.2);
                cursor: pointer;
            }
            
            #character {
                position: absolute;
                right: 16px;
                top: 16px;
                width: calc(100% - 245px);
            }
            
            #character p {
                text-align: justify;
                text-justify: inter-word;
                text-indent: 3em;
            }
            
            #character-header {
                margin-top: 24px;
            }
            
            #character-facts {
                display: inline-block;
                text-align: left;
                margin-top: 16px;
                height: auto;
                display: none;
            }
            
            #character-facts h3, #character-design h3 {
                margin: 0 0 5px 0;
                font-size: 18px;
            }
            
            #character-facts ul {
                margin: 0;
                list-style-type: disc;
                padding-left: 2em;
            }
            
            #character-design {
                display: none;
            }
            
            .color-cel {
                transform: translateY(4px);
                display: inline-block;
                border-radius: 4px;
                border-style: none;
                width: 20px;
                height: 20px;
                margin-right: 2px;
            }
            
            #character-img {
                width: 40%;
                float: right;
                padding-left: 20px;
            }
            
            #character-table {
                margin-top: 30px;
            }
            
            #character-table th {
                text-align: right;
                vertical-align: top;
                padding-right: 1em;
            }
            
        </style>
    </head>
    <body>

        <!-- center stuff area -->
        <div style="min-height: 100vh; width: 100%; max-width: 750px; display: inline-block; text-align: center; background: var(--sixty); padding: 0px; box-shadow: 0 20px 20px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); position: relative;">
            
            <!-- header -->
            <h1 id="header" unselectable="on" onclick="translatePage();">

                <div class="English">
                    <span>
                        <span style="left: 15px;"></span>
                        <span style="left: -1px;"></span>
                        kitsumitsu</span>.de
                </div>

                <div class="Chinese">
                    <span>
                        <span style="left: 15px;"></span>
                        <span style="left: -1px;"></span>
                        昔旭咪旭</span>.的
                </div>

            </h1>

            <!-- navbar -->
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a class="active" href="universe.html">Universe</a></li>
                <li><a href="assets.html">Assets</a></li>
            </ul>

            <!-- content -->
            <div style="padding: 16px; position: relative;">
                
                <!-- left selection area -->
                <span id="search">
                    <!-- buttons are automagically filled in above this comment through the even more above script -->
                    
                    <hr>
                    
                    <p style="font-style: italic; color: var(--thirty-contrast); font-size: 10px; padding: 0px; margin: 1px; width: 100%;">
                        The kitsumitsuverse is a collection of original characters that I post drawings of on Twitter. You may include them in your own work provided you give due credit, and preferrably mention me <a href="https://twitter.com/kitsumitsu46">@kitsumitsu46</a>!
                    </p>
                </span>
                
                <!-- right character area -->
                <span id="character">
                    
                    <h2 id="character-header"><i class="fa-sharp fa-solid fa-arrow-left fa-beat"></i> click a name!</h2>
                    
                    <table id="character-table" style="width: 100%;"></table>
                    
                    <div id="character-facts" class="text-block"></div>

                    <div id="character-design" class="text-block">
                    <!-- contains a div with id=character-colors after generation -->
                    </div>
                    
                    <img id="character-img" src="">

                    <span id="character-paragraphs"></span>
                    
                </span>
                
                <!-- script for loading characters on button press -->
                <!-- https://flexiple.com/javascript/loop-through-object-javascript/ -->
                <script>

                    function LoadCharacter(cid) {
                        // character header
                        document.getElementById("character-header").innerHTML = characterInfo[cid]['name'];
                        
                        // character image (optional)
                        if (characterInfo[cid]['img'] == null || characterInfo[cid]['img'] == "") {
                            document.getElementById("character-img").style.display = "none";
                        } else {
                            document.getElementById("character-img").src = "img/universe/" + characterInfo[cid]['img'];
                            document.getElementById("character-img").style.display = "block";
                        }
                        
                        // character paragraphs
                        var construct = "";
                        characterInfo[cid]['paragraphs'].forEach(
                            item => {
                                construct += "<p>" + item + "</p>";
                            }
                        );
                        document.getElementById("character-paragraphs").innerHTML = construct;
                        
                        // character facts (optional)
                        if (characterInfo[cid]['facts'] == null || characterInfo[cid]['facts'].length == 0) {
                            document.getElementById("character-facts").style.display = "none";
                        } else {
                            construct = "<h3>Fast Facts</h3><ul>";
                            characterInfo[cid]['facts'].forEach(
                                item => {
                                    construct += "<li>" + item + "</li>";
                                }
                            );
                            construct += "</ul>";
                            document.getElementById("character-facts").innerHTML = construct;
                            document.getElementById("character-facts").style.display = "block";
                        }
                        
                        // design (optional)
                        if (characterInfo[cid]['colors'] == null) {
                            document.getElementById("character-design").style.display = "none";
                        } else {
                            construct = `
                                <h3>Design</h3>

                                <div id="character-colors">
                                    <span style="margin-right: 10px;">Palette:</span>
                            `;
                            
                            characterInfo[cid]['colors'].forEach(
                                item => {
                                    construct += '<span class="color-cel" style="background: ' + item + ';"></span>';
                                }
                            );
                            construct += "</div>";
                            
                            document.getElementById("character-design").innerHTML = construct;
                            document.getElementById("character-design").style.display = "block";
                        }

                        // table (optional)
                        if (characterInfo[cid]['table_data'] == null) {
                            document.getElementById("character-table").style.display = "none";
                        } else {
                            construct = "";
                            
                            const pairs = Object.entries(characterInfo[cid]['table_data']);
                                for (let i = 0; i < pairs.length; i++) {
                                    // only does one data pair per row
                                    // remember, .replace() only changes the first instance unless a regex is supplied <3
                                    construct += "<tr><th>" + pairs[i][0].replace('_', ' ') + ":</th><td>" + pairs[i][1] + "</td></tr>";
                                }
//                             for (let i = 0; i < pairs.length - 1; i += 2) {
//                                 construct += "<tr>";
//                                 construct += "<th>" + pairs[i][0] + ":</th><td>" + pairs[i][1] + "</td>";
//                                 construct += "<th>" + pairs[i+1][0] + ":</th><td>" + pairs[i+1][1] + "</td>";
//                                 construct += "</tr>";
//                             }
//                             if (pairs.length % 2 == 1) { // in case uneven amount, one must enter a row ALONE...
//                                 construct += "<tr>";
//                                 construct += "<th>" + pairs[pairs.length-1][0] + ":</th><td>" + pairs[pairs.length-1][1] + "</td>";
//                                 construct += "</tr>";
//                             }

                            document.getElementById("character-table").innerHTML = construct;
                            document.getElementById("character-table").style.display = "block";
                        }
                    }
                    
                    const characterInfo = {
                        'test': {
                            name: "Purdy",
                            img: "",
                            facts: [
                                "Sarrath city, though located in the arid desert, often doesn't seem that way due to the extreme urbanization and green efforts."
                            ],
                            colors: [
                                "#5c2411",
                                "#f5c5a4",
                                "#795f80",
                                "#98ebcd"
                            ],
                            paragraphs: [
                                "Growing up in the country on urban-dramas gave Purdy an almost insatiable idolatry of city life--guns, police, violence, love, <i>food,</i> filling out her heart and her figure alike. All through college--begrudgingly encaged within her home county--after every day's work she, without fail, would stare out from her verdant, earthly dorm room on a purpling sky, haloing the black towers of the city. <i>Sarrath</i> city.",
                                "Though, out of college with six months of rent prepaid for in an apartment quickly discovered to be too cramped for a gal of her scale, a sharp aching in her heart cried out to her of homesickness (well, it might have been from the fat built up around her flabby chest, but we'll call it homesickness). From the twentieth floor the view sure was <i>different</i> from what she had grown accustommed to in the country, and—hey, is that a McDonalds?",
                                "Look out for Purdy's story in faux-comic posts on my Twitter!"
                            ],
                            table_data: {
                                Weight: "~215lb"
                            }
                        }
                    };
                    // design: bottom-heavy, coffee-tone rabbit... orange and faded purple patterned shawl? THICK SILVER BANGLES
                    // All of a sudden, she was out of college. Though she had already frequently bought new clothes since her admission to college (she had jumped up a few sizes since then, after all), she 

                    // load all info into selection area to be allowed to be selected
                    var buttons = "";
                    for (const [key, value] of Object.entries(characterInfo)) {
                        buttons += `<button type="button" onclick="LoadCharacter('` + key + `')"><i class="fa-solid fa-user" style="margin-right: 8px;"></i> ` + value['name'] + `</button>`;
                    }
                    document.getElementById("search").innerHTML = buttons + document.getElementById("search").innerHTML;
                    
                </script>

            </div>

            <!-- copyright -->
            <br><br>
            <span style="text-align: center; color: var(--thirty-contrast); font-size: 12px; width: 100%; position: absolute; bottom: 10px; transform: translateX(-50%);">
                © 2023 Kitsumitsu46. All Rights Reserved. <i class="fa-solid fa-heart" style="color: pink;"></i>
            </span>

        </div>

    </body>
</html>
