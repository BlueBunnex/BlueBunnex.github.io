<!DOCTYPE html>
<html lang="en">
    <head>
        <title>kitsumitsu.de</title>
        <link rel="icon" type="image/x-icon" href="img/favicon.ico"/>
        <script src="https://kit.fontawesome.com/30792084b2.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style.css">
        <script src="script.js"></script>
        <meta charset="UTF-8">
        <style>
            
            /*
                <i class='tooltip fa-solid fa-circle-question'><span>Tooltip text.</span></i>
            */
            .tooltip {
                position: relative;
                color: var(--thirty-contrast);
            }

            .tooltip span {
                font-family: 'Poppins', sans-serif;
                font-weight: 300;
                font-size: 14px;
                width: 260px;
                visibility: hidden;
                background-color: var(--thirty-contrast);
                color: white;
                text-align: center;
                border-radius: 6px;
                padding: 10px 10px;

                /* Position the tooltip */
                position: absolute;
                z-index: 1;
                top: 100%;
                transform: translateY(10px);
                left: 50%;
                margin-left: -130px; /* half width to center */
            }

            .tooltip:hover span {
                visibility: visible;
            }
            
            #character-table td {
                text-align: left;
            }
            
            #search {
                position: absolute;
                left: 16px;
                top: 16px;
                width: 188px;
                background: var(--thirty);
                border-radius: 4px;
                padding: 4px;
                padding-top: 12px;
                text-align: left;
            }

            #search button {
                background: none;
                border: none;
                width: 100%;
                border-radius: 3px;
                font-size: 15px;
                transition: background 0.3s;
            }
            
            #search button:hover {
                background: rgb(0, 0, 0, 0.2);
                cursor: pointer;
            }
            
            #character {
                position: absolute;
                right: 16px;
                top: 16px;
                width: calc(100% - 245px);
            }
            
            #character p {
                text-align: justify;
                text-justify: inter-word;
                text-indent: 3em;
            }
            
            #character-header {
                margin-top: 24px;
            }
            
            #character-facts {
                display: inline-block;
                text-align: left;
                margin-top: 16px;
                height: auto;
                display: none;
            }
            
            #character-facts h3 {
                margin: 0;
                font-size: 18px;
            }
            
            #character-facts ul {
                margin: 0;
                list-style-type: disc;
                padding-left: 2em;
            }
            
            #character-colors {
                font-size: 18px;
                display: none;
            }
            
            .color-cel {
                transform: translateY(4px);
                display: inline-block;
                border-radius: 4px;
                border-style: none;
                width: 20px;
                height: 20px;
            }
            
            #character-img {
                width: 40%;
                float: right;
                padding-left: 20px;
            }
            
            #character-table {
                margin-top: 30px;
            }
            
            #character-table th {
                text-align: right;
                vertical-align: top;
                padding-right: 1em;
            }
            
        </style>
    </head>
    <body>

        <!-- center stuff area -->
        <div style="min-height: 100vh; width: 100%; max-width: 750px; display: inline-block; text-align: center; background: var(--sixty); padding: 0px; box-shadow: 0 20px 20px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); position: relative;">
            
            <!-- header -->
            <h1 id="header" unselectable="on" onclick="translatePage();">

                <div class="English">
                    <span>
                        <span style="left: 15px;"></span>
                        <span style="left: -1px;"></span>
                        kitsumitsu</span>.de
                </div>

                <div class="Chinese">
                    <span>
                        <span style="left: 15px;"></span>
                        <span style="left: -1px;"></span>
                        昔旭咪旭</span>.的
                </div>

            </h1>

            <!-- navbar -->
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a class="active" href="universe.html">Universe</a></li>
                <li><a href="assets.html">Assets</a></li>
            </ul>

            <!-- content -->
            <div style="padding: 16px; position: relative;">
                
                <!-- left selection area -->
                <span id="search">
                    <!-- buttons are automagically filled in above this comment through the even more above script -->

                    <p style="font-style: italic; color: var(--thirty-contrast); font-size: 10px;">
                        The kitsumitsuverse is a collection of original characters that I post drawings of on Twitter. You may include them in your own work provided you give due credit, and preferrably mention me <a href="https://twitter.com/kitsumitsu46">@kitsumitsu46</a>!
                    </p>
                </span>
                
                <!-- right character area -->
                <span id="character">
                    
                    <h2 id="character-header"><i class="fa-sharp fa-solid fa-arrow-left fa-beat"></i> click a name!</h2>
                    
                    <table id="character-table" style="width: 100%;"></table>
                    
                    <span id="character-facts" class="text-block"></span>

                    <span id="character-colors" class="text-block">
                        <span style="margin-right: 10px;">Colors:</span>
                        <span class="color-cel" style="background: red;"></span>
                        <span class="color-cel" style="background: green;"></span>
                        <span class="color-cel" style="background: blue;"></span>
                    </span>
                    
                    <img id="character-img" src="">

                    <span id="character-paragraphs"></span>
                    
                </span>
                
                <!-- script for loading characters on button press -->
                <!-- https://flexiple.com/javascript/loop-through-object-javascript/ -->
                <script>

                    function LoadCharacter(cid) {
                        // character header
                        document.getElementById("character-header").innerHTML = characterInfo[cid]['name'];
                        
                        // character image (can be null)
                        if (characterInfo[cid]['img'] == null) {
                            document.getElementById("character-img").style.display = "none";
                        } else {
                            document.getElementById("character-img").src = "img/universe/" + characterInfo[cid]['img'];
                            document.getElementById("character-img").style.display = "block";
                        }
                        
                        // character paragraphs
                        var construct = "";
                        characterInfo[cid]['paragraphs'].forEach(
                            item => {
                                construct += "<p>" + item + "</p>";
                            }
                        );
                        document.getElementById("character-paragraphs").innerHTML = construct;
                        
                        // character facts (can be null)
                        if (characterInfo[cid]['facts'] == null) {
                            document.getElementById("character-facts").style.display = "none";
                        } else {
                            construct = "<h3>Fast Facts</h3><ul>";
                            characterInfo[cid]['facts'].forEach(
                                item => {
                                    construct += "<li>" + item + "</li>";
                                }
                            );
                            construct += "</ul>";
                            document.getElementById("character-facts").innerHTML = construct;
                            document.getElementById("character-facts").style.display = "block";
                        }
                        
                        // colors (can be null)
                        if (characterInfo[cid]['colors'] == null) {
                            document.getElementById("character-colors").style.display = "none";
                        } else {
                            document.getElementById("character-colors").style.display = "block";
                        }

                        // table (can be null)
                        if (characterInfo[cid]['table_data'] == null) {
                            document.getElementById("character-table").style.display = "none";
                        } else {
                            construct = "";
                            
                            const pairs = Object.entries(characterInfo[cid]['table_data']);
                                for (let i = 0; i < pairs.length; i++) {
                                    // only does one data pair per row
                                    // remember, .replace() only changes the first instance unless a regex is supplied <3
                                    construct += "<tr><th>" + pairs[i][0].replace('_', ' ') + ":</th><td>" + pairs[i][1] + "</td></tr>";
                                }
//                             for (let i = 0; i < pairs.length - 1; i += 2) {
//                                 construct += "<tr>";
//                                 construct += "<th>" + pairs[i][0] + ":</th><td>" + pairs[i][1] + "</td>";
//                                 construct += "<th>" + pairs[i+1][0] + ":</th><td>" + pairs[i+1][1] + "</td>";
//                                 construct += "</tr>";
//                             }
//                             if (pairs.length % 2 == 1) { // in case uneven amount, one must enter a row ALONE...
//                                 construct += "<tr>";
//                                 construct += "<th>" + pairs[pairs.length-1][0] + ":</th><td>" + pairs[pairs.length-1][1] + "</td>";
//                                 construct += "</tr>";
//                             }

                            document.getElementById("character-table").innerHTML = construct;
                            document.getElementById("character-table").style.display = "block";
                        }
                    }
                    
                    const characterInfo = {
                        'test': {
                            is_header: false,
                            name: "test character",
                            img: "gothladyIdunno.png",
                            facts: ["Fact1", "Fact2"],
                            colors: ["hexa"],
                            paragraphs: [
                                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur vitae hendrerit nibh. Vestibulum faucibus placerat scelerisque. Nulla nec dictum mauris. Aliquam erat volutpat. In vel purus risus. Morbi finibus ipsum quis consectetur maximus. Proin non dui lacinia, feugiat dolor ac, ultrices ligula. Phasellus convallis dolor vitae eros lacinia, quis lacinia dui posuere. In hac habitasse platea dictumst. Donec aliquet ante nec leo consequat molestie.",
                                "Vivamus faucibus nunc a sem dapibus, efficitur hendrerit tellus bibendum. Vivamus placerat et purus tempus venenatis. Nunc elementum neque nec augue sollicitudin faucibus. Morbi accumsan efficitur nisi suscipit maximus. In hac habitasse platea dictumst. Nam dignissim dignissim facilisis. Aliquam et cursus tellus. Morbi nunc augue, ultricies vitae nulla non, volutpat mollis eros. Sed et mauris hendrerit, feugiat justo sit amet, ornare orci."
                            ],
                            table_data: {
                                Weight: "180lb (210lb after dinner)"
                            }
                        }
                    };

                    // load all info into selection area to be allowed to be selected
                    var buttons = "";
                    for (const [key, value] of Object.entries(characterInfo)) {
                        if (value['is_header'] != null && value['is_header']) {
                            buttons += `<button type="button" onclick="LoadCharacter('` + key + `')"><b>` + value['name'] + `</b></button>`;
                        } else {
                            buttons += `<button type="button" onclick="LoadCharacter('` + key + `')">` + value['name'] + `</button>`;
                        }
                    }
                    document.getElementById("search").innerHTML = buttons + document.getElementById("search").innerHTML;
                    
                </script>

            </div>

            <!-- copyright -->
            <br><br>
            <span style="text-align: center; color: var(--thirty-contrast); font-size: 12px; width: 100%; position: absolute; bottom: 10px; transform: translateX(-50%);">
                © 2023 Kitsumitsu46. All Rights Reserved. <i class="fa-solid fa-heart" style="color: pink;"></i>
            </span>

        </div>

    </body>
</html>
